<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>AgriSakhsham</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f9fafb;
        }

        .hero-gradient {
            background: linear-gradient(135deg, #4ade80 0%, #3b82f6 100%);
        }

        .tab-button {
            transition: all 0.3s ease;
        }

        .tab-button.active {
            background-color: #3b82f6;
            color: white;
        }

        .input-field {
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }

        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2);
        }

        .result-card {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
    </style>
    <style>
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease-out forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hover-scale:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }

        .transition-all {
            transition: all 0.3s ease-in-out;
        }
    </style>
    <style>
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>

    <script>
        window.addEventListener('load', () => {
            const loader = document.getElementById('loader');
            if (loader) loader.style.display = 'none';
        });
    </script>
    <style>
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .fade-in.visible {
            opacity: 1;
            transform: none;
        }
    </style>
</head>

<body>
    <!-- Background Video -->
    <video autoplay muted loop id="bgVideo"
        style="position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:-1;">
        <source src="/static/Video.mp4" type="video/mp4">
    </video>


    <div id="loader"
        style="position:fixed;width:100%;height:100%;background:white;z-index:9999;display:flex;align-items:center;justify-content:center;">
        <div
            style="border: 8px solid #f3f3f3;border-top: 8px solid green;border-radius: 50%;width: 60px;height: 60px;animation: spin 1s linear infinite;">
        </div>
    </div>
    <!-- Navigation -->

    <body class="text-white">
    <nav class="fixed w-full z-20 bg-green-900/90 backdrop-blur shadow-md py-3">
        <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
            <div class="flex items-center gap-2">
                <i class="fas fa-leaf text-lime-400 text-2xl"></i>
                <h1 class="text-xl font-bold text-white">Agri<span class="text-lime-400">Sakhsham</span></h1>
            </div>
            <div class="space-x-4 hidden md:block text-lime-100">
                <a href="home" class="hover:text-lime-400">Home</a>
                <a href="ai_assistant" class="hover:text-lime-400">Voice Assistant</a>
                <a href="crop_recommendation" class="hover:text-lime-400">Crop Prediction</a>
                <a href="DiseasePrediction" class="hover:text-lime-400">Disease Detection</a>
                <a href="fertilizer_recommendation2" class="hover:text-lime-400">Fertilizer Advisor</a>
                <a href="subsidy" class="hover:text-lime-400">Subsidy Finder</a>
                 <a href="forecast" class="hover:text-lime-400">Smart Weather</a>
            </div>
        </div>
    </nav>
        <!-- Main Content -->
        <main class="pt-24 pb-12 px-4 sm:px-6 lg:px-8">
            <div class="max-w-4xl mx-auto">
                <!-- Hero Section -->
                <section class="text-white rounded-2xl p-8 mb-10 shadow-lg"
                    style="background: linear-gradient(135deg, #bbf7d0, #22c55e, #15803d);">
                    <div class="bg-white bg-opacity-10 p-6 rounded-xl">
                        <div class="flex flex-col md:flex-row items-center">
                            <div class="md:w-2/3 mb-6 md:mb-0">
                                <h1 class="text-3xl md:text-4xl font-bold mb-4">
                                    <span class="block">AI-Powered</span>
                                    <span class="block text-green-100">Crop Prediction</span>
                                </h1>
                                <p class="text-lg opacity-90">
                                    Get personalized crop recommendations based on your soil conditions and
                                    environmental factors.
                            </div>
                            <div class="md:w-1/3 flex justify-center">
                                <div class="bg-white bg-opacity-20 p-6 rounded-full">
                                    <i class="fas fa-tractor text-5xl text-white"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Crop Recommendation Form -->
                <form id="cropForm"
                    class="relative bg-white/10 backdrop-blur-md border border-white/20 rounded-2xl shadow-xl p-6 mb-10 text-white overflow-hidden"
                    style="background-image: url('https://images.unsplash.com/photo-1606567599562-4d7a19dca28d?auto=format&fit=crop&w=1050&q=80'); background-size: cover; background-position: center;">
                    <div class="absolute inset-0 bg-green-900 bg-opacity-60 rounded-2xl"></div>
                    <div class="relative z-10">
                        <h2 class="text-2xl font-bold mb-6 flex items-center">
                            <i class="fas fa-seedling text-green-300 mr-2"></i> Crop Recommendation
                        </h2>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                            <div>
                                <label class="block text-sm font-medium text-green-200 mb-1" for="N">Nitrogen
                                    (N)</label>
                                <input
                                    class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 focus:outline-none"
                                    id="N" placeholder="Enter nitrogen level" required type="number" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-200 mb-1" for="P">Phosphorous
                                    (P)</label>
                                <input
                                    class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 focus:outline-none"
                                    id="P" placeholder="Enter phosphorous level" required type="number" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-200 mb-1" for="K">Potassium
                                    (K)</label>
                                <input
                                    class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 focus:outline-none"
                                    id="K" placeholder="Enter potassium level" required type="number" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-200 mb-1"
                                    for="temperature">Temperature (¬∞C)</label>
                                <input
                                    class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 focus:outline-none"
                                    id="temperature" placeholder="Enter temperature" required type="number" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-200 mb-1" for="humidity">Humidity
                                    (%)</label>
                                <input
                                    class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 focus:outline-none"
                                    id="humidity" placeholder="Enter humidity" required type="number" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-200 mb-1" for="ph">Soil pH</label>
                                <input
                                    class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 focus:outline-none"
                                    id="ph" placeholder="Enter soil pH" required type="number" />
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-green-200 mb-1" for="rainfall">Rainfall
                                    (mm)</label>
                                <input
                                    class="w-full px-4 py-2 rounded-lg bg-white/20 text-white placeholder-white/70 focus:outline-none"
                                    id="rainfall" placeholder="Enter rainfall" required type="number" />
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="submit"
                                class="bg-green-500 hover:bg-green-600 text-white px-8 py-3 rounded-lg font-medium transition duration-300 shadow-md">
                                <i class="fas fa-search mr-2"></i> Get Crop Recommendation
                            </button>
                        </div>
                        <div class="result mt-8 hidden bg-white/20 backdrop-blur-md rounded-xl p-6" id="cropResult">
                            <h3 class="text-xl font-bold text-white mb-4">Recommended Crop</h3>
                            <div class="text-white" id="cropResultContent"></div>
                        </div>
                    </div>
                </form>

                </footer>
                <script>
                    function showTab(tabId) {
                        // Currently only cropForm is used. If you add more, toggle them here.
                        document.getElementById("cropForm").classList.add("hidden");
                        document.getElementById("cropTab").classList.remove("active");

                        document.getElementById(tabId).classList.remove("hidden");
                        document.getElementById(tabId + "Tab").classList.add("active");
                    }

                    // Crop Form Submission
                    document.getElementById("cropForm").addEventListener("submit", async function (e) {
                        e.preventDefault();

                        const data = {
                            N: parseFloat(document.getElementById("N").value),
                            P: parseFloat(document.getElementById("P").value),
                            K: parseFloat(document.getElementById("K").value),
                            temperature: parseFloat(document.getElementById("temperature").value),
                            humidity: parseFloat(document.getElementById("humidity").value),
                            ph: parseFloat(document.getElementById("ph").value),
                            rainfall: parseFloat(document.getElementById("rainfall").value)
                        };

                        try {
                            const response = await fetch("http://localhost:2025/predict-crop", {
                                method: "POST",
                                headers: { "Content-Type": "application/json" },
                                body: JSON.stringify(data)
                            });

                            const result = await response.json();

                            document.getElementById("cropResultContent").textContent = "üå± Recommended Crop: " + result.recommended_crop;
                            document.getElementById("cropResult").classList.remove("hidden");

                        } catch (error) {
                            document.getElementById("cropResultContent").textContent = "‚ùå Error: " + error.message;
                            document.getElementById("cropResult").classList.remove("hidden");
                        }
                    });
                </script>
                <button id="backToTop"
                    style="display:none;position:fixed;bottom:30px;right:30px;z-index:999;background:green;color:white;border:none;padding:10px 15px;border-radius:8px;cursor:pointer;">‚Üë
                    Top</button>
                <script>
                    const backToTop = document.getElementById("backToTop");
                    window.onscroll = () => {
                        if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
                            backToTop.style.display = "block";
                        } else {
                            backToTop.style.display = "none";
                        }
                    };
                    backToTop.onclick = () => {
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    };
                </script>
                <script>
                    document.addEventListener("DOMContentLoaded", () => {
                        const elements = document.querySelectorAll(".fade-in");
                        const observer = new IntersectionObserver((entries) => {
                            entries.forEach(entry => {
                                if (entry.isIntersecting) {
                                    entry.target.classList.add("visible");
                                }
                            });
                        }, { threshold: 0.1 });
                        elements.forEach(el => observer.observe(el));
                    });
                </script>
    </body>

</html>